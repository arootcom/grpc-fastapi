<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="945px" preserveAspectRatio="none" style="width:894px;height:945px;" version="1.1" viewBox="0 0 894 945" width="894px" zoomAndPan="magnify"><defs><filter height="300%" id="f1jprphr8zmftk" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[5ec7eedd57310648f8059ffb2621ca4b]
cluster docker--><path d="M41.3505,100.0796 C58.1657,75.7495 86.1264,75.6658 102.1706,101.0234 C117.2849,80.4303 138.3986,80.2724 152.1366,102.6247 C172.0743,71.9371 199.4795,80.1393 215.6268,106.8196 C228.5571,86.735 251.0231,83.666 264.0391,106.7233 C281.306,77.7464 301.5996,69.8005 325.0185,100.4295 C337.655,73.9952 362.8605,71.3762 378.1558,97.7544 C398.4718,73.6074 421.4796,67.8319 438.8598,100.8708 C458.3807,74.527 480.3294,72.0287 500.7001,99.9014 C515.9544,77.2148 537.9373,72.8317 553.5703,99.4956 C570.1413,74.2191 586.6912,71.1769 604.2649,98.5299 C627.7472,65.5714 654.9279,76.1037 671.0102,106.345 C684.8604,82.3401 706.0863,83.0891 718.603,107.6517 C735.6668,77.6501 763.5626,82.4877 780.4621,107.8352 C795.129,82.8731 822.5309,76.6942 838,107 C840.4066,103.9226 842.8128,105.0526 844.3056,107.9623 C872.4158,123.3484 870.2881,151.0031 845.1582,167.156 C873.0665,182.5725 873.1469,201.3586 849.7952,221.1753 C874.5168,239.8776 872.6715,257.5277 848.8635,275.3961 C879.5663,295.3817 875.7655,314.1544 848.4891,333.7681 C874.8011,354.8874 879.3671,376.0543 845.8399,394.5662 C869.3682,407.4717 872.7861,422.6202 853.3331,442.2762 C882.6695,462.3591 879.4627,484.5232 848.4535,499.4563 C880.9701,516.2921 873.5517,545.9758 845.873,560.2568 C872.3627,574.0274 872.554,593.6284 852.5823,613.2781 C876.6913,629.976 872.7921,647.9901 851.7069,663.9065 C881.2596,682.6047 874.5239,709.0915 847.04,723.3086 C871.813,735.4791 873.0773,760.3454 848.5322,773.9686 C874.1377,789.6887 876.4938,817.2115 846.1335,830.5593 C867.4492,856.7938 869.0676,880.3923 831,892 C837.2859,889.9617 839.5444,893.8359 838.6919,899.3095 C820.6214,926.0695 795.8529,925.7073 777.2846,899.8909 C761.4418,927.7416 742.8627,922.4062 725.2112,901.836 C705.9103,930.3296 677.5704,925.1455 663.548,896.1721 C649.8077,918.1386 628.3432,920.6984 613.8007,897.047 C592.3848,925.3949 573.6837,924.4954 552.0963,897.2374 C536.9733,928.0107 510.5566,928.7727 493.0005,899.6376 C476.0263,925.4854 452.6764,926.1257 439.1392,896.3117 C420.2576,919.0168 402.5151,923.5106 385.5438,894.3381 C371.9104,925.205 345.9676,923.8129 327.8064,899.0363 C304.6358,923.2007 281.8263,928.3191 263.9066,893.361 C248.7328,918.1313 233.6435,923.0933 212.646,899.5384 C196.662,931.5675 170.6313,933.5452 151.7665,902.3106 C135.174,921.6041 111.5035,915.8333 103.8471,892.3096 C78.437,924.7763 48.7978,919.3359 30,885 C34.3306,887.7139 34.5009,891.6904 30.1083,894.5037 C-1.7386,870.5947 8.1936,851.641 35.0498,832.4032 C10.6147,822.2645 5.6262,799.1426 30.1667,784.0572 C1.7711,766.5064 -2.9047,739.0311 29.1219,720.4872 C8.8131,705.9937 7.9083,685.3329 30.3181,671.8909 C6.5454,659.885 -2.4394,633.3832 25.0051,616.4675 C2.3463,596.0102 -3.7729,570.0725 31.4943,555.8126 C4.7875,539.2044 -0.1776,513.3171 30.9205,496.1528 C9.3437,487.5028 1.2382,465.3523 23.7076,449.8421 C-5.1513,432.9654 3.9629,406.9166 28.0367,394.1548 C-4.0063,377.4839 1.0787,353.9162 25.3805,334.7269 C2.2707,311.7458 5.3427,293.4909 33.4671,277.7859 C8.9273,262.7051 11.0284,243.6865 30.8291,226.3323 C2.2062,206.8678 11.2499,182.4148 37.8726,169.8381 C4.3576,149.7461 8.5316,120.8665 37,100 C38.4757,97.946 39.9519,97.9191 41.3505,100.0796 " fill="#FFFFFF" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="56" x="406" y="119.9659">«docker»</text><a href="https://github.com/arootcom/grpc-fastapi/blob/day1/docker-compose-multi.yaml" target="_top" title="https://github.com/arootcom/grpc-fastapi/blob/day1/docker-compose-multi.yaml" xlink:actuate="onRequest" xlink:href="https://github.com/arootcom/grpc-fastapi/blob/day1/docker-compose-multi.yaml" xlink:show="new" xlink:title="https://github.com/arootcom/grpc-fastapi/blob/day1/docker-compose-multi.yaml" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="158" x="355" y="139.0339">docker-compose-multi</text></a><!--MD5=[a96875dd8cb2e433dc952b8d34d153d3]
cluster gw--><polygon fill="#FFFFFF" filter="url(#f1jprphr8zmftk)" points="351,250,361,240,513,240,513,530,503,540,351,540,351,250" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="503" x2="512" y1="250" y2="241"/><line style="stroke: #000000; stroke-width: 1.5;" x1="351" x2="503" y1="250" y2="250"/><line style="stroke: #000000; stroke-width: 1.5;" x1="503" x2="503" y1="250" y2="540"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="74" x="391" y="267.9659">«container»</text><a href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/gw.py" target="_top" title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/gw.py" xlink:actuate="onRequest" xlink:href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/gw.py" xlink:show="new" xlink:title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/gw.py" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="21" x="417.5" y="287.0339">gw</text></a><!--MD5=[51c37e7e196eba0f73bc4aab0d78ac21]
cluster orders--><polygon fill="#FFFFFF" filter="url(#f1jprphr8zmftk)" points="46,574,56,564,284,564,284,866,274,876,46,876,46,574" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="274" x2="283" y1="574" y2="565"/><line style="stroke: #000000; stroke-width: 1.5;" x1="46" x2="274" y1="574" y2="574"/><line style="stroke: #000000; stroke-width: 1.5;" x1="274" x2="274" y1="574" y2="876"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="74" x="124" y="591.9659">«container»</text><a href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/orders.py" target="_top" title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/orders.py" xlink:actuate="onRequest" xlink:href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/orders.py" xlink:show="new" xlink:title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/orders.py" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="45" x="138.5" y="611.0339">orders</text></a><!--MD5=[a9c46e1f40d8209d7031186a51ade354]
cluster srv_orders--><rect fill="#FFFFFF" filter="url(#f1jprphr8zmftk)" height="151" style="stroke: #000000; stroke-width: 1.5;" width="190" x="70" y="701"/><rect fill="#FFFFFF" height="10" style="stroke: #000000; stroke-width: 1.5;" width="15" x="240" y="706"/><rect fill="#FFFFFF" height="2" style="stroke: #000000; stroke-width: 1.5;" width="4" x="238" y="708"/><rect fill="#FFFFFF" height="2" style="stroke: #000000; stroke-width: 1.5;" width="4" x="238" y="712"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="112" x="109" y="728.9659">«asyncio process»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84" x="123" y="748.0339">gRPC Server</text><a href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/orders.py" target="_top" title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/orders.py" xlink:actuate="onRequest" xlink:href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/orders.py" xlink:show="new" xlink:title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/orders.py" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="99" x="115.5" y="767.1018">servers.orders</text></a><!--MD5=[6e3cc587b03d07bcef06cdef9710fa52]
cluster reserve--><polygon fill="#FFFFFF" filter="url(#f1jprphr8zmftk)" points="308,574,318,564,556,564,556,866,546,876,308,876,308,574" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="546" x2="555" y1="574" y2="565"/><line style="stroke: #000000; stroke-width: 1.5;" x1="308" x2="546" y1="574" y2="574"/><line style="stroke: #000000; stroke-width: 1.5;" x1="546" x2="546" y1="574" y2="876"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="74" x="391" y="591.9659">«container»</text><a href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/reserve.py" target="_top" title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/reserve.py" xlink:actuate="onRequest" xlink:href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/reserve.py" xlink:show="new" xlink:title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/reserve.py" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="51" x="402.5" y="611.0339">reserve</text></a><!--MD5=[101c01dc19bef66d88980158c8cf7e84]
cluster srv_reserve--><rect fill="#FFFFFF" filter="url(#f1jprphr8zmftk)" height="151" style="stroke: #000000; stroke-width: 1.5;" width="200" x="332" y="701"/><rect fill="#FFFFFF" height="10" style="stroke: #000000; stroke-width: 1.5;" width="15" x="512" y="706"/><rect fill="#FFFFFF" height="2" style="stroke: #000000; stroke-width: 1.5;" width="4" x="510" y="708"/><rect fill="#FFFFFF" height="2" style="stroke: #000000; stroke-width: 1.5;" width="4" x="510" y="712"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="112" x="376" y="728.9659">«asyncio process»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84" x="390" y="748.0339">gRPC Server</text><a href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/reserve.py" target="_top" title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/reserve.py" xlink:actuate="onRequest" xlink:href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/reserve.py" xlink:show="new" xlink:title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/reserve.py" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="105" x="379.5" y="767.1018">servers.reserve</text></a><!--MD5=[cbff675dd27d407944f860e343d30a79]
cluster loyalties--><polygon fill="#FFFFFF" filter="url(#f1jprphr8zmftk)" points="580,574,590,564,822,564,822,866,812,876,580,876,580,574" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="812" x2="821" y1="574" y2="565"/><line style="stroke: #000000; stroke-width: 1.5;" x1="580" x2="812" y1="574" y2="574"/><line style="stroke: #000000; stroke-width: 1.5;" x1="812" x2="812" y1="574" y2="876"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="74" x="660" y="591.9659">«container»</text><a href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/loyalties.py" target="_top" title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/loyalties.py" xlink:actuate="onRequest" xlink:href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/loyalties.py" xlink:show="new" xlink:title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/loyalties.py" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="58" x="668" y="611.0339">loyalties</text></a><!--MD5=[f7fd0a6929b4f880a3417bbd2dd719df]
cluster srv_loyalties--><rect fill="#FFFFFF" filter="url(#f1jprphr8zmftk)" height="151" style="stroke: #000000; stroke-width: 1.5;" width="194" x="604" y="701"/><rect fill="#FFFFFF" height="10" style="stroke: #000000; stroke-width: 1.5;" width="15" x="778" y="706"/><rect fill="#FFFFFF" height="2" style="stroke: #000000; stroke-width: 1.5;" width="4" x="776" y="708"/><rect fill="#FFFFFF" height="2" style="stroke: #000000; stroke-width: 1.5;" width="4" x="776" y="712"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="112" x="645" y="728.9659">«asyncio process»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84" x="659" y="748.0339">gRPC Server</text><a href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/loyalties.py" target="_top" title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/loyalties.py" xlink:actuate="onRequest" xlink:href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/loyalties.py" xlink:show="new" xlink:title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/loyalties.py" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="112" x="645" y="767.1018">servers.loyalties</text></a><!--MD5=[1c4445a7000564b839da5ed8916fbcae]
entity curl--><rect fill="#FFFFFF" filter="url(#f1jprphr8zmftk)" height="68.1358" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="388" y="8"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="456" y="13"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="454" y="15"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="454" y="19"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="48" x="403" y="42.9659">«client»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="414" y="62.0339">curl</text><!--MD5=[97927cec2a6e77b4f0a12e56a26161da]
class local_http--><rect fill="#FEFECE" filter="url(#f1jprphr8zmftk)" height="75.3765" id="local_http" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="387.5" y="149"/><ellipse cx="402.5" cy="186.6882" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M398.5313,193.1882 L398.5313,191.4851 L400.8906,191.2195 L400.8906,183.0164 L398.5313,182.7507 L398.5313,181.0476 L405.6719,181.0476 L405.6719,182.7507 L403.25,183.0164 L403.25,191.2195 L405.6719,191.4851 L405.6719,193.1882 L398.5313,193.1882 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="59" x="415.5" y="166.8281">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="22" x="434" y="183.1722">http</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="40" x="425" y="199.5163">rest api</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="57" x="416.5" y="215.8604">port: 8080</text><!--MD5=[ee7e05c31ad3ab8de83a6576ca716af9]
class http--><rect fill="#FEFECE" filter="url(#f1jprphr8zmftk)" height="75.3765" id="http" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="387.5" y="302"/><ellipse cx="402.5" cy="339.6882" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M398.5313,346.1882 L398.5313,344.4851 L400.8906,344.2195 L400.8906,336.0164 L398.5313,335.7507 L398.5313,334.0476 L405.6719,334.0476 L405.6719,335.7507 L403.25,336.0164 L403.25,344.2195 L405.6719,344.4851 L405.6719,346.1882 L398.5313,346.1882 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="59" x="415.5" y="319.8281">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="22" x="434" y="336.1722">http</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="40" x="425" y="352.5163">rest api</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="57" x="416.5" y="368.8604">port: 1111</text><!--MD5=[e2307af040e3f87d22824e7603ca28ec]
entity api--><rect fill="#FFFFFF" filter="url(#f1jprphr8zmftk)" height="87.2038" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="367" y="437"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="477" y="442"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="475" y="444"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="475" y="448"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="90" x="382" y="471.9659">«first process»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="396" y="491.0339">Fast API</text><a href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/api/order.py" target="_top" title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/api/order.py" xlink:actuate="onRequest" xlink:href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/api/order.py" xlink:show="new" xlink:title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/api/order.py" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="62" x="396" y="510.1018">api.order</text></a><!--MD5=[942ed0ecddb75dd67ac5d563612c422a]
class orders_grpc--><rect fill="#FEFECE" filter="url(#f1jprphr8zmftk)" height="59.0323" id="orders_grpc" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="144" y="626"/><ellipse cx="159" cy="655.5162" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M155.0313,662.0162 L155.0313,660.313 L157.3906,660.0474 L157.3906,651.8443 L155.0313,651.5787 L155.0313,649.8755 L162.1719,649.8755 L162.1719,651.5787 L159.75,651.8443 L159.75,660.0474 L162.1719,660.313 L162.1719,662.0162 L155.0313,662.0162 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="59" x="175.5" y="643.8281">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="24" x="193" y="660.1722">grpc</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="64" x="173" y="676.5163">port: 50091</text><!--MD5=[20acf304c87f522547e857e16520f091]
class orders--><rect fill="#FEFECE" filter="url(#f1jprphr8zmftk)" height="59.0323" id="orders" style="stroke: #A80036; stroke-width: 1.5;" width="157" x="86.5" y="777"/><ellipse cx="101.5" cy="806.5162" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M100.9688,813.438 Q99.2188,813.438 98.0781,812.7037 Q96.9531,811.9537 96.3906,810.6099 Q95.8438,809.2505 95.8438,807.4537 Q95.8438,805.4224 96.5,803.9693 Q97.1563,802.5162 98.4375,801.7349 Q99.7188,800.9537 101.5938,800.9537 Q102.4844,800.9537 103.1563,801.1412 Q103.8281,801.313 104.5156,801.6568 L103.7031,803.6724 Q103.0781,803.3599 102.5313,803.2349 Q102,803.1099 101.5156,803.1099 Q100.3438,803.1099 99.6406,803.6412 Q98.9375,804.1724 98.6406,805.1255 Q98.3438,806.0787 98.3438,807.3443 Q98.3438,809.3599 99.0625,810.3287 Q99.7813,811.2818 101.375,811.2818 Q101.9688,811.2818 102.5938,811.1255 Q103.2188,810.9693 104.0469,810.5943 L104.0469,812.813 Q103.3125,813.1255 102.5156,813.2818 Q101.7344,813.438 100.9688,813.438 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="48" x="154" y="794.8281">«service»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="83" x="136.5" y="811.1722">Orders Service</text><a href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/order.py" target="_top" title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/order.py" xlink:actuate="onRequest" xlink:href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/order.py" xlink:show="new" xlink:title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/order.py" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="125" x="115.5" y="827.5163">servers.services.order</text></a><!--MD5=[fefa31e7b470710e9e7b3d64a6b13987]
class reserve_grpc--><rect fill="#FEFECE" filter="url(#f1jprphr8zmftk)" height="59.0323" id="reserve_grpc" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="384" y="626"/><ellipse cx="399" cy="655.5162" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M395.0313,662.0162 L395.0313,660.313 L397.3906,660.0474 L397.3906,651.8443 L395.0313,651.5787 L395.0313,649.8755 L402.1719,649.8755 L402.1719,651.5787 L399.75,651.8443 L399.75,660.0474 L402.1719,660.313 L402.1719,662.0162 L395.0313,662.0162 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="59" x="415.5" y="643.8281">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="24" x="433" y="660.1722">grpc</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="64" x="413" y="676.5163">port: 50091</text><!--MD5=[cced2c5adff641815bfd663bfb5c99f1]
class reserve--><rect fill="#FEFECE" filter="url(#f1jprphr8zmftk)" height="59.0323" id="reserve" style="stroke: #A80036; stroke-width: 1.5;" width="169" x="347.5" y="777"/><ellipse cx="362.5" cy="806.5162" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M361.9688,813.438 Q360.2188,813.438 359.0781,812.7037 Q357.9531,811.9537 357.3906,810.6099 Q356.8438,809.2505 356.8438,807.4537 Q356.8438,805.4224 357.5,803.9693 Q358.1563,802.5162 359.4375,801.7349 Q360.7188,800.9537 362.5938,800.9537 Q363.4844,800.9537 364.1563,801.1412 Q364.8281,801.313 365.5156,801.6568 L364.7031,803.6724 Q364.0781,803.3599 363.5313,803.2349 Q363,803.1099 362.5156,803.1099 Q361.3438,803.1099 360.6406,803.6412 Q359.9375,804.1724 359.6406,805.1255 Q359.3438,806.0787 359.3438,807.3443 Q359.3438,809.3599 360.0625,810.3287 Q360.7813,811.2818 362.375,811.2818 Q362.9688,811.2818 363.5938,811.1255 Q364.2188,810.9693 365.0469,810.5943 L365.0469,812.813 Q364.3125,813.1255 363.5156,813.2818 Q362.7344,813.438 361.9688,813.438 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="48" x="421" y="794.8281">«service»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="89" x="400.5" y="811.1722">Reserve Service</text><a href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/reserve.py" target="_top" title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/reserve.py" xlink:actuate="onRequest" xlink:href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/reserve.py" xlink:show="new" xlink:title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/reserve.py" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="137" x="376.5" y="827.5163">servers.services.reserve</text></a><!--MD5=[ffca178ce89b86bc1fb147c854e54699]
class loyalty_grpc--><rect fill="#FEFECE" filter="url(#f1jprphr8zmftk)" height="59.0323" id="loyalty_grpc" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="624" y="626"/><ellipse cx="639" cy="655.5162" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M635.0313,662.0162 L635.0313,660.313 L637.3906,660.0474 L637.3906,651.8443 L635.0313,651.5787 L635.0313,649.8755 L642.1719,649.8755 L642.1719,651.5787 L639.75,651.8443 L639.75,660.0474 L642.1719,660.313 L642.1719,662.0162 L635.0313,662.0162 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="59" x="655.5" y="643.8281">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="24" x="673" y="660.1722">grpc</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="64" x="653" y="676.5163">port: 50091</text><!--MD5=[1f727aeb7eada4cb742e721f089c17f3]
class loyalty--><rect fill="#FEFECE" filter="url(#f1jprphr8zmftk)" height="59.0323" id="loyalty" style="stroke: #A80036; stroke-width: 1.5;" width="162" x="620" y="777"/><ellipse cx="635" cy="806.5162" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M634.4688,813.438 Q632.7188,813.438 631.5781,812.7037 Q630.4531,811.9537 629.8906,810.6099 Q629.3438,809.2505 629.3438,807.4537 Q629.3438,805.4224 630,803.9693 Q630.6563,802.5162 631.9375,801.7349 Q633.2188,800.9537 635.0938,800.9537 Q635.9844,800.9537 636.6563,801.1412 Q637.3281,801.313 638.0156,801.6568 L637.2031,803.6724 Q636.5781,803.3599 636.0313,803.2349 Q635.5,803.1099 635.0156,803.1099 Q633.8438,803.1099 633.1406,803.6412 Q632.4375,804.1724 632.1406,805.1255 Q631.8438,806.0787 631.8438,807.3443 Q631.8438,809.3599 632.5625,810.3287 Q633.2813,811.2818 634.875,811.2818 Q635.4688,811.2818 636.0938,811.1255 Q636.7188,810.9693 637.5469,810.5943 L637.5469,812.813 Q636.8125,813.1255 636.0156,813.2818 Q635.2344,813.438 634.4688,813.438 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="48" x="690" y="794.8281">«service»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="83" x="672.5" y="811.1722">Loyalty Service</text><a href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/loyalty.py" target="_top" title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/loyalty.py" xlink:actuate="onRequest" xlink:href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/loyalty.py" xlink:show="new" xlink:title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/loyalty.py" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="130" x="649" y="827.5163">servers.services.loyalty</text></a><!--MD5=[f569da246d9d1549aee26afb72a4f8a9]
link curl to local_http--><path d="M432,76.05 C432,97.84 432,126.39 432,148.87 " fill="none" id="curl-local_http" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M439.0711,105.1302 A10,10 0 0 0 424.9289 105.1302" fill="#FFFFFF" style="stroke: #A80036; stroke-width: 1.5;"/><ellipse cx="432" cy="112.2013" fill="#FFFFFF" rx="6" ry="6" style="stroke: #A80036; stroke-width: 1.5;"/><!--MD5=[5a98a51f9f95d58ec3e7dc9a9fa6a508]
link local_http to http--><path d="M432,229.12 C432,250.1 432,275.48 432,296.51 " fill="none" id="local_http-http" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="427" y="296.76"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="427" y="219.05"/><!--MD5=[822e738d165c73dc3b9e1744093104bc]
link http to api--><path d="M432,377.02 C432,393.64 432,413.54 432,431.36 " fill="none" id="http-&gt;api" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="427" y="431.82"/><!--MD5=[d22c3299c07076395b8e804a822aeee6]
link api to orders_grpc--><path d="M366.69,518.04 C347.37,529.55 326.47,542.75 308,556 C277.74,577.72 245.62,605.4 222.87,625.88 " fill="none" id="api-orders_grpc" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M317.8673,557.6238 A10,10 0 0 0 309.6238 546.1327" fill="#FFFFFF" style="stroke: #A80036; stroke-width: 1.5;"/><ellipse cx="308" cy="556" fill="#FFFFFF" rx="6" ry="6" style="stroke: #A80036; stroke-width: 1.5;"/><!--MD5=[1d64fc1ad36c815ac5f7982749b89d10]
link orders_grpc to orders--><path d="M186.79,685.23 C182.31,709.96 175.84,745.69 171.11,771.78 " fill="none" id="orders_grpc-&gt;orders" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="165.19" y="771.86"/><!--MD5=[dc649011891629e7f7ba9ca251c07018]
link api to reserve_grpc--><path d="M432,524.26 C432,555.88 432,598.08 432,625.76 " fill="none" id="api-reserve_grpc" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M439.0711,569.4164 A10,10 0 0 0 424.9289 569.4164" fill="#FFFFFF" style="stroke: #A80036; stroke-width: 1.5;"/><ellipse cx="432" cy="576.4875" fill="#FFFFFF" rx="6" ry="6" style="stroke: #A80036; stroke-width: 1.5;"/><!--MD5=[d725cafe432f0d523f8804e96c593936]
link reserve_grpc to reserve--><path d="M432,685.23 C432,709.96 432,745.69 432,771.78 " fill="none" id="reserve_grpc-&gt;reserve" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="427" y="771.86"/><!--MD5=[94c544f35954a49aafcaadd20bafd50f]
link api to loyalty_grpc--><path d="M497.31,518.04 C516.63,529.55 537.53,542.75 556,556 C586.26,577.72 618.38,605.4 641.13,625.88 " fill="none" id="api-loyalty_grpc" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M554.3762,546.1327 A10,10 0 0 0 546.1327 557.6238" fill="#FFFFFF" style="stroke: #A80036; stroke-width: 1.5;"/><ellipse cx="556" cy="556" fill="#FFFFFF" rx="6" ry="6" style="stroke: #A80036; stroke-width: 1.5;"/><!--MD5=[2ec7b2025d9da00dfd54edac7ddeb116]
link loyalty_grpc to loyalty--><path d="M677.59,685.23 C682.41,709.96 689.36,745.69 694.44,771.78 " fill="none" id="loyalty_grpc-&gt;loyalty" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="690.43" y="771.86"/><!--MD5=[7e2c8e938b406ec31dd707fb77a145bb]
@startuml


hide empty members
allowmixing

component curl <<client>> {
}

cloud docker as "[[https://github.com/arootcom/grpc-fastapi/blob/day1/docker-compose-multi.yaml docker-compose-multi]]" <<docker>> {
    interface local_http as "http\nrest api\nport: 8080" <<interface>>
    curl -(0- local_http


    node gw as "[[https://github.com/arootcom/grpc-fastapi/blob/day1/app/gw.py gw]]" <<container>> {
        interface http as "http\nrest api\nport: 1111" <<interface>>
        local_http #- -# http


        component api as "Fast API\n[[https://github.com/arootcom/grpc-fastapi/blob/day1/app/api/order.py api.order]]" <<first process>> {
        }
        http - -# api
    }

    node orders as "[[https://github.com/arootcom/grpc-fastapi/blob/day1/app/orders.py orders]]" <<container>> {
        interface orders_grpc as "grpc\nport: 50091" <<interface>>
        api -(0- orders_grpc

        component srv_orders as "gRPC Server\n[[https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/orders.py servers.orders]]" <<asyncio process>> {
            class orders as "Orders Service\n[[https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/order.py servers.services.order]]" <<service>>
            orders_grpc - -# orders
        }
    }

    node reserve as "[[https://github.com/arootcom/grpc-fastapi/blob/day1/app/reserve.py reserve]]" <<container>> {
        interface reserve_grpc as "grpc\nport: 50091" <<interface>>
        api -(0- reserve_grpc

        component srv_reserve as "gRPC Server\n[[https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/reserve.py servers.reserve]]" <<asyncio process>> {
        class reserve as "Reserve Service\n[[https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/reserve.py servers.services.reserve]]" <<service>>
        reserve_grpc - -# reserve
        }
    }

    node loyalties as "[[https://github.com/arootcom/grpc-fastapi/blob/day1/app/loyalties.py loyalties]]" <<container>> {
        interface loyalty_grpc as "grpc\nport: 50091" <<interface>>
        api -(0- loyalty_grpc

        component srv_loyalties as "gRPC Server\n[[https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/loyalties.py servers.loyalties]]" <<asyncio process>> {
        class loyalty as "Loyalty Service\n[[https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/loyalty.py servers.services.loyalty]]" <<service>>
        loyalty_grpc - -# loyalty
        }
    }
}

@enduml

PlantUML version 1.2020.02(Sun Mar 01 13:22:07 MSK 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 21.0.9+10-Ubuntu-124.04
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>