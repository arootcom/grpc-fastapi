<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="639px" preserveAspectRatio="none" style="width:898px;height:639px;" version="1.1" viewBox="0 0 898 639" width="898px" zoomAndPan="magnify"><defs><filter height="300%" id="fxa2qmk2npakd" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[5ec7eedd57310648f8059ffb2621ca4b]
cluster docker--><path d="M45.6605,101.7361 C65.1491,74.8645 87.7671,77.7911 101.4981,107.4255 C116.1915,84.0364 131.1216,82.3025 151.0851,101.2533 C173.6839,72.3369 194.0805,68.7354 215.6117,102.3548 C232.932,77.9367 251.548,81.3806 265.8834,105.4496 C284.1187,69.5863 310.025,75.7317 330.8303,102.7971 C344.53,83.1412 367.3003,80.8549 379.5654,104.415 C401.056,75.6136 422.1189,75.6966 442.1221,105.9895 C456.192,76.9382 478.37,76.3839 498.2543,99.7648 C520.1002,73.3599 538.2627,76.5367 551.4619,107.7496 C570.0959,77.9913 589.0743,72.1739 612.2812,103.172 C632.2123,76.4426 653.2058,79.6963 669.3683,107.1431 C686.5048,83.9107 703.8257,80.8552 722.4646,105.4761 C741.9122,76.9499 762.1513,82.395 779.3654,107.8313 C800.5317,76.2572 820.0737,81.3087 842,107 C844.2316,107.0295 845.0999,108.3987 844.0872,110.4125 C870.9794,131.0796 874.886,150.3277 842.979,169.8995 C868.8593,188.0808 874.9093,208.8691 843.5648,227.6311 C878.1078,243.5625 872.4656,273.1757 847.2296,292.4852 C874.8183,305.6435 873.7836,328.1077 848.3443,342.449 C878.3213,362.1745 883.4927,380.7823 851.444,403.6494 C886.6945,421.9497 883.9503,449.9382 852.4519,469.2638 C872.5642,482.2136 874.9692,506.3916 851.2988,518.3121 C878.6581,542.8731 875.2613,576.2174 835,584 C838.3924,580.0976 842.9172,579.0823 845.3141,585.0413 C824.6401,618.0095 803.6332,619.5577 781.5648,586.3854 C768.1045,619.7359 750.0344,622.333 726.3778,595.7787 C709.9627,620.5313 689.9194,623.9123 673.4939,595.7892 C653.8149,621.3586 628.3903,619.2708 614.799,589.3499 C598.4585,619.2333 578.4679,620.8946 556.586,595.1488 C539.9533,622.1312 522.2044,626.8276 500.3219,600.7116 C480.9853,627.5554 462.197,625.6644 443.1685,600.3737 C419.7789,626.044 399.7516,627.1852 380.3415,595.9779 C361.0945,618.6158 344.4883,612.0988 331.0722,589.6114 C316.8358,621.7081 286.7379,623.2693 270.6526,591.3566 C250.4247,615.753 228.0532,620.8549 210.1588,588.8536 C196.4416,608.9976 172.2702,609.5956 160.2575,586.8695 C141.4652,620.0644 122.6459,621.0574 100.087,590.4199 C73.2594,624.4309 42.6003,617.2923 30,577 C35.7213,577.7099 37.7481,582.1259 33.6817,586.5925 C7.5938,572.7828 0.1581,544.935 30.7925,528.3133 C1.5561,505.4095 3.6659,478.3861 35.5657,459.7377 C11.0524,448.3406 3.1813,424.6258 29.7058,407.503 C-5.3674,392.2 -7.6235,364.1551 25.8343,344.6321 C1.5053,321.4192 1.389,300.3644 34.3413,285.3747 C3.5822,269.0959 5.7789,244.9053 30.0134,224.7035 C6.2591,207.9659 3.581,186.2257 30.2391,169.6948 C-5.9556,144.8581 3.2039,118.0471 37,100 C40.5694,96.5553 43.6903,97.2039 45.6605,101.7361 " fill="#FFFFFF" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="56" x="408" y="119.9659">«docker»</text><a href="https://github.com/arootcom/grpc-fastapi/blob/day1/docker-compose-singl.yaml" target="_top" title="https://github.com/arootcom/grpc-fastapi/blob/day1/docker-compose-singl.yaml" xlink:actuate="onRequest" xlink:href="https://github.com/arootcom/grpc-fastapi/blob/day1/docker-compose-singl.yaml" xlink:show="new" xlink:title="https://github.com/arootcom/grpc-fastapi/blob/day1/docker-compose-singl.yaml" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="162" x="355" y="139.0339">docker-compose-single</text></a><!--MD5=[a70b0d373322012744ecc119c63f921b]
cluster main--><polygon fill="#FFFFFF" filter="url(#fxa2qmk2npakd)" points="46,250,56,240,826,240,826,558,816,568,46,568,46,250" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="816" x2="825" y1="250" y2="241"/><line style="stroke: #000000; stroke-width: 1.5;" x1="46" x2="816" y1="250" y2="250"/><line style="stroke: #000000; stroke-width: 1.5;" x1="816" x2="816" y1="250" y2="568"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="74" x="395" y="267.9659">«container»</text><a href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/main.py" target="_top" title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/main.py" xlink:actuate="onRequest" xlink:href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/main.py" xlink:show="new" xlink:title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/main.py" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="35" x="414.5" y="287.0339">main</text></a><!--MD5=[4ef80439e1ef409f8f3a0ec422262701]
cluster server--><rect fill="#FFFFFF" filter="url(#fxa2qmk2npakd)" height="151" style="stroke: #000000; stroke-width: 1.5;" width="591" x="211" y="393"/><rect fill="#FFFFFF" height="10" style="stroke: #000000; stroke-width: 1.5;" width="15" x="782" y="398"/><rect fill="#FFFFFF" height="2" style="stroke: #000000; stroke-width: 1.5;" width="4" x="780" y="400"/><rect fill="#FFFFFF" height="2" style="stroke: #000000; stroke-width: 1.5;" width="4" x="780" y="404"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="112" x="450.5" y="420.9659">«asyncio process»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84" x="464.5" y="440.0339">gRPC Server</text><a href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/server.py" target="_top" title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/server.py" xlink:actuate="onRequest" xlink:href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/server.py" xlink:show="new" xlink:title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/server.py" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="97" x="458" y="459.1018">servers.server</text></a><!--MD5=[1c4445a7000564b839da5ed8916fbcae]
entity curl--><rect fill="#FFFFFF" filter="url(#fxa2qmk2npakd)" height="68.1358" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="83" y="8"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="151" y="13"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="149" y="15"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="149" y="19"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="48" x="98" y="42.9659">«client»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="109" y="62.0339">curl</text><!--MD5=[39bc9657bf317d043dcbf2a23a9b65e5]
entity grpcurl--><rect fill="#FFFFFF" filter="url(#fxa2qmk2npakd)" height="68.1358" style="stroke: #A80036; stroke-width: 1.5;" width="90" x="363" y="8"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="433" y="13"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="431" y="15"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="431" y="19"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="48" x="379" y="42.9659">«client»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="378" y="62.0339">grpcurl</text><!--MD5=[97927cec2a6e77b4f0a12e56a26161da]
class local_http--><rect fill="#FEFECE" filter="url(#fxa2qmk2npakd)" height="75.3765" id="local_http" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="82.5" y="149"/><ellipse cx="97.5" cy="186.6882" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M93.5313,193.1882 L93.5313,191.4851 L95.8906,191.2195 L95.8906,183.0164 L93.5313,182.7507 L93.5313,181.0476 L100.6719,181.0476 L100.6719,182.7507 L98.25,183.0164 L98.25,191.2195 L100.6719,191.4851 L100.6719,193.1882 L93.5313,193.1882 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="59" x="110.5" y="166.8281">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="22" x="129" y="183.1722">http</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="40" x="120" y="199.5163">rest api</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="57" x="111.5" y="215.8604">port: 8080</text><!--MD5=[c7869361ce8773805ca72f87c53bac8d]
class local_grpc--><rect fill="#FEFECE" filter="url(#fxa2qmk2npakd)" height="59.0323" id="local_grpc" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="363.5" y="157"/><ellipse cx="378.5" cy="186.5162" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M374.5313,193.0162 L374.5313,191.313 L376.8906,191.0474 L376.8906,182.8443 L374.5313,182.5787 L374.5313,180.8755 L381.6719,180.8755 L381.6719,182.5787 L379.25,182.8443 L379.25,191.0474 L381.6719,191.313 L381.6719,193.0162 L374.5313,193.0162 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="59" x="391.5" y="174.8281">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="24" x="409" y="191.1722">grpc</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="57" x="392.5" y="207.5163">port: 8787</text><!--MD5=[ee7e05c31ad3ab8de83a6576ca716af9]
class http--><rect fill="#FEFECE" filter="url(#fxa2qmk2npakd)" height="75.3765" id="http" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="82.5" y="302"/><ellipse cx="97.5" cy="339.6882" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M93.5313,346.1882 L93.5313,344.4851 L95.8906,344.2195 L95.8906,336.0164 L93.5313,335.7507 L93.5313,334.0476 L100.6719,334.0476 L100.6719,335.7507 L98.25,336.0164 L98.25,344.2195 L100.6719,344.4851 L100.6719,346.1882 L93.5313,346.1882 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="59" x="110.5" y="319.8281">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="22" x="129" y="336.1722">http</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="40" x="120" y="352.5163">rest api</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="57" x="111.5" y="368.8604">port: 1111</text><!--MD5=[9980b5244f573a19d8ed59dab985f6c6]
class grpc--><rect fill="#FEFECE" filter="url(#fxa2qmk2npakd)" height="59.0323" id="grpc" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="360" y="310"/><ellipse cx="375" cy="339.5162" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M371.0313,346.0162 L371.0313,344.313 L373.3906,344.0474 L373.3906,335.8443 L371.0313,335.5787 L371.0313,333.8755 L378.1719,333.8755 L378.1719,335.5787 L375.75,335.8443 L375.75,344.0474 L378.1719,344.313 L378.1719,346.0162 L371.0313,346.0162 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="59" x="391.5" y="327.8281">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="24" x="409" y="344.1722">grpc</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="64" x="389" y="360.5163">port: 50091</text><!--MD5=[e2307af040e3f87d22824e7603ca28ec]
entity api--><rect fill="#FFFFFF" filter="url(#fxa2qmk2npakd)" height="87.2038" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="62" y="455"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="172" y="460"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="170" y="462"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="170" y="466"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="90" x="77" y="489.9659">«first process»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="91" y="509.0339">Fast API</text><a href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/api/order.py" target="_top" title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/api/order.py" xlink:actuate="onRequest" xlink:href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/api/order.py" xlink:show="new" xlink:title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/api/order.py" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="62" x="91" y="528.1018">api.order</text></a><!--MD5=[20acf304c87f522547e857e16520f091]
class orders--><rect fill="#FEFECE" filter="url(#fxa2qmk2npakd)" height="59.0323" id="orders" style="stroke: #A80036; stroke-width: 1.5;" width="157" x="628.5" y="469"/><ellipse cx="643.5" cy="498.5162" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M642.9688,505.438 Q641.2188,505.438 640.0781,504.7037 Q638.9531,503.9537 638.3906,502.6099 Q637.8438,501.2505 637.8438,499.4537 Q637.8438,497.4224 638.5,495.9693 Q639.1563,494.5162 640.4375,493.7349 Q641.7188,492.9537 643.5938,492.9537 Q644.4844,492.9537 645.1563,493.1412 Q645.8281,493.313 646.5156,493.6568 L645.7031,495.6724 Q645.0781,495.3599 644.5313,495.2349 Q644,495.1099 643.5156,495.1099 Q642.3438,495.1099 641.6406,495.6412 Q640.9375,496.1724 640.6406,497.1255 Q640.3438,498.0787 640.3438,499.3443 Q640.3438,501.3599 641.0625,502.3287 Q641.7813,503.2818 643.375,503.2818 Q643.9688,503.2818 644.5938,503.1255 Q645.2188,502.9693 646.0469,502.5943 L646.0469,504.813 Q645.3125,505.1255 644.5156,505.2818 Q643.7344,505.438 642.9688,505.438 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="48" x="696" y="486.8281">«service»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="83" x="678.5" y="503.1722">Orders Service</text><a href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/order.py" target="_top" title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/order.py" xlink:actuate="onRequest" xlink:href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/order.py" xlink:show="new" xlink:title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/order.py" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="125" x="657.5" y="519.5163">servers.services.order</text></a><!--MD5=[cced2c5adff641815bfd663bfb5c99f1]
class reserve--><rect fill="#FEFECE" filter="url(#fxa2qmk2npakd)" height="59.0323" id="reserve" style="stroke: #A80036; stroke-width: 1.5;" width="169" x="424.5" y="469"/><ellipse cx="439.5" cy="498.5162" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M438.9688,505.438 Q437.2188,505.438 436.0781,504.7037 Q434.9531,503.9537 434.3906,502.6099 Q433.8438,501.2505 433.8438,499.4537 Q433.8438,497.4224 434.5,495.9693 Q435.1563,494.5162 436.4375,493.7349 Q437.7188,492.9537 439.5938,492.9537 Q440.4844,492.9537 441.1563,493.1412 Q441.8281,493.313 442.5156,493.6568 L441.7031,495.6724 Q441.0781,495.3599 440.5313,495.2349 Q440,495.1099 439.5156,495.1099 Q438.3438,495.1099 437.6406,495.6412 Q436.9375,496.1724 436.6406,497.1255 Q436.3438,498.0787 436.3438,499.3443 Q436.3438,501.3599 437.0625,502.3287 Q437.7813,503.2818 439.375,503.2818 Q439.9688,503.2818 440.5938,503.1255 Q441.2188,502.9693 442.0469,502.5943 L442.0469,504.813 Q441.3125,505.1255 440.5156,505.2818 Q439.7344,505.438 438.9688,505.438 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="48" x="498" y="486.8281">«service»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="89" x="477.5" y="503.1722">Reserve Service</text><a href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/reserve.py" target="_top" title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/reserve.py" xlink:actuate="onRequest" xlink:href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/reserve.py" xlink:show="new" xlink:title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/reserve.py" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="137" x="453.5" y="519.5163">servers.services.reserve</text></a><!--MD5=[1f727aeb7eada4cb742e721f089c17f3]
class loyalty--><rect fill="#FEFECE" filter="url(#fxa2qmk2npakd)" height="59.0323" id="loyalty" style="stroke: #A80036; stroke-width: 1.5;" width="162" x="227" y="469"/><ellipse cx="242" cy="498.5162" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M241.4688,505.438 Q239.7188,505.438 238.5781,504.7037 Q237.4531,503.9537 236.8906,502.6099 Q236.3438,501.2505 236.3438,499.4537 Q236.3438,497.4224 237,495.9693 Q237.6563,494.5162 238.9375,493.7349 Q240.2188,492.9537 242.0938,492.9537 Q242.9844,492.9537 243.6563,493.1412 Q244.3281,493.313 245.0156,493.6568 L244.2031,495.6724 Q243.5781,495.3599 243.0313,495.2349 Q242.5,495.1099 242.0156,495.1099 Q240.8438,495.1099 240.1406,495.6412 Q239.4375,496.1724 239.1406,497.1255 Q238.8438,498.0787 238.8438,499.3443 Q238.8438,501.3599 239.5625,502.3287 Q240.2813,503.2818 241.875,503.2818 Q242.4688,503.2818 243.0938,503.1255 Q243.7188,502.9693 244.5469,502.5943 L244.5469,504.813 Q243.8125,505.1255 243.0156,505.2818 Q242.2344,505.438 241.4688,505.438 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="48" x="297" y="486.8281">«service»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="93" x="274.5" y="503.1722">Loyalties Service</text><a href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/loyalty.py" target="_top" title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/loyalty.py" xlink:actuate="onRequest" xlink:href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/loyalty.py" xlink:show="new" xlink:title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/loyalty.py" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="130" x="256" y="519.5163">servers.services.loyalty</text></a><!--MD5=[f569da246d9d1549aee26afb72a4f8a9]
link curl to local_http--><path d="M127,76.05 C127,97.84 127,126.39 127,148.87 " fill="none" id="curl-local_http" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M134.0711,105.1302 A10,10 0 0 0 119.9289 105.1302" fill="#FFFFFF" style="stroke: #A80036; stroke-width: 1.5;"/><ellipse cx="127" cy="112.2012" fill="#FFFFFF" rx="6" ry="6" style="stroke: #A80036; stroke-width: 1.5;"/><!--MD5=[c5a26bd2e0e29d2950c8fdb045644034]
link grpcurl to local_grpc--><path d="M408,76.05 C408,100.55 408,133.61 408,156.96 " fill="none" id="grpcurl-local_grpc" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M415.0711,109.8652 A10,10 0 0 0 400.9289 109.8652" fill="#FFFFFF" style="stroke: #A80036; stroke-width: 1.5;"/><ellipse cx="408" cy="116.9363" fill="#FFFFFF" rx="6" ry="6" style="stroke: #A80036; stroke-width: 1.5;"/><!--MD5=[5a98a51f9f95d58ec3e7dc9a9fa6a508]
link local_http to http--><path d="M127,229.12 C127,250.1 127,275.48 127,296.51 " fill="none" id="local_http-http" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="122" y="296.76"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="122" y="219.05"/><!--MD5=[1bcf2633f5d9e1de3c15d1c1b779208d]
link local_grpc to grpc--><path d="M408,221.44 C408,246.29 408,279.87 408,304.69 " fill="none" id="local_grpc-grpc" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="403" y="304.85"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="403" y="211.26"/><!--MD5=[822e738d165c73dc3b9e1744093104bc]
link http to api--><path d="M127,377.31 C127,398.88 127,426.37 127,449.61 " fill="none" id="http-&gt;api" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="122" y="449.81"/><!--MD5=[67e86969b0140614e5c8927828cd1439]
link grpc to orders--><path d="M456.3,342.46 C499.56,346.13 563.35,356.43 611,385 C643.47,404.47 670.39,438.84 687.38,464.48 " fill="none" id="grpc-&gt;orders" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="685.22" y="463.84"/><!--MD5=[4c101d95f4d4b007e4fe0e9597922f6d]
link grpc to reserve--><path d="M426.52,369.3 C443.82,396.19 469.62,436.29 487.75,464.47 " fill="none" id="grpc-&gt;reserve" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="485.59" y="463.89"/><!--MD5=[a1707c4b64cbc5a5e095cab6af816523]
link grpc to loyalty--><path d="M389.66,369.3 C372.53,396.19 346.99,436.29 329.04,464.47 " fill="none" id="grpc-&gt;loyalty" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="321.23" y="463.89"/><!--MD5=[9177bed0ba4a9e5c6c85c85db71229e2]
link grpc to api--><path d="M359.84,342.13 C317.58,345.6 256,355.79 211,385 C184.52,402.19 163.34,430.77 148.87,454.83 " fill="none" id="grpc-api" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M201.219,382.9188 A10,10 0 0 0 208.9188 394.781" fill="#FFFFFF" style="stroke: #A80036; stroke-width: 1.5;"/><ellipse cx="211" cy="385" fill="#FFFFFF" rx="6" ry="6" style="stroke: #A80036; stroke-width: 1.5;"/><!--MD5=[872d9ff5fc1f35765caa2a76fe168607]
@startuml


hide empty members
allowmixing

component curl <<client>> {
}

component grpcurl <<client>> {
}

cloud docker as "[[https://github.com/arootcom/grpc-fastapi/blob/day1/docker-compose-singl.yaml docker-compose-single]]" <<docker>> {
    interface local_http as "http\nrest api\nport: 8080" <<interface>>
    curl -(0- local_http

    interface local_grpc as "grpc\nport: 8787" <<interface>>
    grpcurl -(0- local_grpc

    node main as "[[https://github.com/arootcom/grpc-fastapi/blob/day1/app/main.py main]]" <<container>> {
        interface http as "http\nrest api\nport: 1111" <<interface>>
        local_http #- -# http

        interface grpc as "grpc\nport: 50091" <<interface>>
        local_grpc #- -# grpc 

        component api as "Fast API\n[[https://github.com/arootcom/grpc-fastapi/blob/day1/app/api/order.py api.order]]" <<first process>> {
        }
        http - -# api

        component server as "gRPC Server\n[[https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/server.py servers.server]]" <<asyncio process>> {
        class orders as "Orders Service\n[[https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/order.py servers.services.order]]" <<service>>
        class reserve as "Reserve Service\n[[https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/reserve.py servers.services.reserve]]" <<service>>
            class loyalty as "Loyalties Service\n[[https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/loyalty.py servers.services.loyalty]]" <<service>>
        }
        grpc - -# orders
        grpc - -# reserve
        grpc - -# loyalty
        grpc -0)- api
    }
}

@enduml

PlantUML version 1.2020.02(Sun Mar 01 13:22:07 MSK 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 21.0.9+10-Ubuntu-124.04
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>