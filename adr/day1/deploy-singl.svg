<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="544px" preserveAspectRatio="none" style="width:448px;height:544px;" version="1.1" viewBox="0 0 448 544" width="448px" zoomAndPan="magnify"><defs><filter height="300%" id="ficlbig10p3bn" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[5ec7eedd57310648f8059ffb2621ca4b]
cluster docker--><path d="M38.0426,101.9877 C46.1588,87.5696 59.8606,86.2354 69.1165,100.7641 C80.3947,84.3982 91.2974,84.524 102.6644,100.6725 C108.6755,86.1618 122.1863,87.6961 129.7908,98.998 C141.355,85.9031 151.0961,83.9129 160.8063,100.9091 C170.7402,85.8536 180.6203,83.8717 192.7262,98.5797 C199.9664,84.4911 211.4533,83.3974 221.5754,95.3922 C230.971,78.5909 245.2425,79.2377 254.3708,95.6562 C263.5736,82.681 275.6279,83.0767 281.7972,98.5779 C291.2107,86.1511 306.2012,85.005 313.5137,100.9284 C323.875,85.7115 336.8239,84.8343 347.9165,100.103 C357.9388,86.2871 366.9682,84.2315 377.3246,99.7683 C390.6664,83.9586 405.1935,87.721 411,107 C413.1252,105.9165 414.1716,106.891 414.3584,109.024 C430.3928,118.3449 429.6503,127.7262 416.9371,139.4812 C430.1077,149.8596 425.8619,159.974 413.3991,167.0644 C427.8145,173.2709 427.4856,182.4293 417.751,192.7306 C431.4099,200.6736 429.0714,214.1193 416.1557,220.5377 C430.1518,227.3473 429.8179,237.924 419.3883,247.6463 C432.7715,255.8401 432.5608,264.8835 421.8196,275.2055 C436.1279,283.3818 435.1925,297.1203 422.9389,306.2541 C434.8771,315.7017 430.122,325.3753 418.8993,331.0496 C432.7186,339.8268 433.3162,350.2571 421.426,361.1895 C434.0957,371.5167 434.4028,379.6756 419.2058,387.666 C430.7812,397.9833 427.0589,409.3048 414.5234,415.5772 C429.5909,422.2785 432.5311,435.8579 418.0752,446.0054 C427.8191,456.6895 425.7241,464.7605 413.0995,470.9898 C426.5054,486.3819 423.142,498.3161 404,505 C407.1125,505.6049 407.307,507.9408 405.7269,510.1265 C395.2749,522.035 385.4707,524.4313 375.678,509.3912 C366.301,524.923 356.5779,525.4131 344.7484,512.0131 C335.4475,525.1625 321.794,523.2656 315.0203,509.2477 C306.3685,526.2627 293.0971,526.0654 281.7197,512.1855 C272.6198,526.2599 263.1451,525.7136 254.3608,511.8761 C244.974,528.6842 235.5506,526.467 224.4907,513.5578 C214.4545,528.0815 203.5618,526.8629 192.8024,514.4072 C181.7366,529.1798 171.2167,532.2375 160.2521,514.3065 C148.4823,529.3346 136.2164,527.4383 128.7607,510.108 C120.7819,521.341 110.146,523.0096 103.3793,508.8944 C92.7355,521.9524 82.899,525.3861 72.6986,508.441 C55.1364,524.5017 38.1836,520.2933 30,498 C31.8531,495.6777 33.4646,495.8389 35.2338,498.096 C22.6087,493.4598 19.0923,482.5568 31.0115,473.6767 C17.5364,466.2353 18.6527,454.0504 30.0922,445.7877 C18.3819,436.0235 20.8559,422.7985 33.9387,416.2645 C20.0603,410.5198 18.2989,395.9877 29.4633,386.4801 C15.957,377.228 20.2484,365.5223 32.6241,359.2775 C22.1537,352.1827 20.0488,340.9344 33.4231,334.612 C15.0633,326.2961 15.98,315.0483 29.1345,302.5209 C18.1712,294.9996 19.4098,284.6117 30.4299,278.2645 C17.4939,269.3751 17.5434,254.9888 32.5904,248.1038 C22.3083,242.0756 19.4254,231.3549 30.9352,223.8401 C15.1266,216.8771 16.0025,202.7712 29.9756,194.8232 C18.4189,186.1711 18.9923,173.2392 33.2142,167.6607 C17.2251,159.5905 19.7365,147.935 31.5174,138.262 C13.9583,123.973 17.7175,109.0099 37,100 C38.1688,100.0675 38.6794,100.9731 38.0426,101.9877 " fill="#FFFFFF" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="56" x="192.5" y="119.9659">«docker»</text><a href="https://github.com/arootcom/grpc-fastapi/blob/day1/docker-compose-singl.yaml" target="_top" title="https://github.com/arootcom/grpc-fastapi/blob/day1/docker-compose-singl.yaml" xlink:actuate="onRequest" xlink:href="https://github.com/arootcom/grpc-fastapi/blob/day1/docker-compose-singl.yaml" xlink:show="new" xlink:title="https://github.com/arootcom/grpc-fastapi/blob/day1/docker-compose-singl.yaml" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="162" x="139.5" y="139.0339">docker-compose-single</text></a><!--MD5=[a70b0d373322012744ecc119c63f921b]
cluster main--><polygon fill="#FFFFFF" filter="url(#ficlbig10p3bn)" points="46,234,56,224,395,224,395,479,385,489,46,489,46,234" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="385" x2="394" y1="234" y2="225"/><line style="stroke: #000000; stroke-width: 1.5;" x1="46" x2="385" y1="234" y2="234"/><line style="stroke: #000000; stroke-width: 1.5;" x1="385" x2="385" y1="234" y2="489"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="74" x="179.5" y="251.9659">«container»</text><a href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/main.py" target="_top" title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/main.py" xlink:actuate="onRequest" xlink:href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/main.py" xlink:show="new" xlink:title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/main.py" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="35" x="199" y="271.0339">main</text></a><!--MD5=[1c4445a7000564b839da5ed8916fbcae]
entity curl--><rect fill="#FFFFFF" filter="url(#ficlbig10p3bn)" height="68.1358" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="83" y="8"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="151" y="13"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="149" y="15"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="149" y="19"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="48" x="98" y="42.9659">«client»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="109" y="62.0339">curl</text><!--MD5=[39bc9657bf317d043dcbf2a23a9b65e5]
entity grpcurl--><rect fill="#FFFFFF" filter="url(#ficlbig10p3bn)" height="68.1358" style="stroke: #A80036; stroke-width: 1.5;" width="90" x="234" y="8"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="304" y="13"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="302" y="15"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="302" y="19"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="48" x="250" y="42.9659">«client»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="249" y="62.0339">grpcurl</text><!--MD5=[97927cec2a6e77b4f0a12e56a26161da]
class local_http--><rect fill="#FEFECE" filter="url(#ficlbig10p3bn)" height="59.0323" id="local_http" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="82.5" y="149"/><ellipse cx="97.5" cy="178.5162" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M93.5313,185.0162 L93.5313,183.313 L95.8906,183.0474 L95.8906,174.8443 L93.5313,174.5787 L93.5313,172.8755 L100.6719,172.8755 L100.6719,174.5787 L98.25,174.8443 L98.25,183.0474 L100.6719,183.313 L100.6719,185.0162 L93.5313,185.0162 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="22" x="129" y="166.8281">http</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="40" x="120" y="183.1722">rest api</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="57" x="111.5" y="199.5163">port: 8080</text><!--MD5=[c7869361ce8773805ca72f87c53bac8d]
class local_grpc--><rect fill="#FEFECE" filter="url(#ficlbig10p3bn)" height="42.6882" id="local_grpc" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="234.5" y="157"/><ellipse cx="249.5" cy="178.3441" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M245.5313,184.8441 L245.5313,183.141 L247.8906,182.8754 L247.8906,174.6722 L245.5313,174.4066 L245.5313,172.7035 L252.6719,172.7035 L252.6719,174.4066 L250.25,174.6722 L250.25,182.8754 L252.6719,183.141 L252.6719,184.8441 L245.5313,184.8441 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="24" x="280" y="174.8281">grpc</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="57" x="263.5" y="191.1722">port: 8787</text><!--MD5=[ee7e05c31ad3ab8de83a6576ca716af9]
class http--><rect fill="#FEFECE" filter="url(#ficlbig10p3bn)" height="59.0323" id="http" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="82.5" y="286"/><ellipse cx="97.5" cy="315.5162" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M93.5313,322.0162 L93.5313,320.313 L95.8906,320.0474 L95.8906,311.8443 L93.5313,311.5787 L93.5313,309.8755 L100.6719,309.8755 L100.6719,311.5787 L98.25,311.8443 L98.25,320.0474 L100.6719,320.313 L100.6719,322.0162 L93.5313,322.0162 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="22" x="129" y="303.8281">http</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="40" x="120" y="320.1722">rest api</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="57" x="111.5" y="336.5163">port: 1111</text><!--MD5=[9980b5244f573a19d8ed59dab985f6c6]
class grpc--><rect fill="#FEFECE" filter="url(#ficlbig10p3bn)" height="42.6882" id="grpc" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="231" y="294"/><ellipse cx="246" cy="315.3441" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M242.0313,321.8441 L242.0313,320.141 L244.3906,319.8754 L244.3906,311.6722 L242.0313,311.4066 L242.0313,309.7035 L249.1719,309.7035 L249.1719,311.4066 L246.75,311.6722 L246.75,319.8754 L249.1719,320.141 L249.1719,321.8441 L242.0313,321.8441 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="24" x="280" y="311.8281">grpc</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="64" x="260" y="328.1722">port: 50091</text><!--MD5=[e2307af040e3f87d22824e7603ca28ec]
entity api--><rect fill="#FFFFFF" filter="url(#ficlbig10p3bn)" height="68.1358" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="62" y="405"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="172" y="410"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="170" y="412"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="170" y="416"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="90" x="77" y="439.9659">«first process»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="95.5" y="459.0339">Fast API</text><!--MD5=[dd82451e1dd92fe3da01853750f49ff6]
entity server--><rect fill="#FFFFFF" filter="url(#ficlbig10p3bn)" height="68.1358" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="227" y="405"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="359" y="410"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="357" y="412"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="357" y="416"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="112" x="242" y="439.9659">«asyncio process»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="253.5" y="459.0339">gRPC Servers</text><!--MD5=[f569da246d9d1549aee26afb72a4f8a9]
link curl to local_http--><path d="M127,76.25 C127,98.5 127,127.48 127,148.74 " fill="none" id="curl-local_http" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M134.0711,105.7952 A10,10 0 0 0 119.9289 105.7952" fill="#FFFFFF" style="stroke: #A80036; stroke-width: 1.5;"/><ellipse cx="127" cy="112.8663" fill="#FFFFFF" rx="6" ry="6" style="stroke: #A80036; stroke-width: 1.5;"/><!--MD5=[c5a26bd2e0e29d2950c8fdb045644034]
link grpcurl to local_grpc--><path d="M279,76.25 C279,101.45 279,135.3 279,156.77 " fill="none" id="grpcurl-local_grpc" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M286.0711,110.8377 A10,10 0 0 0 271.9289 110.8377" fill="#FFFFFF" style="stroke: #A80036; stroke-width: 1.5;"/><ellipse cx="279" cy="117.9088" fill="#FFFFFF" rx="6" ry="6" style="stroke: #A80036; stroke-width: 1.5;"/><!--MD5=[5a98a51f9f95d58ec3e7dc9a9fa6a508]
link local_http to http--><path d="M127,213.37 C127,233.99 127,260.22 127,280.81 " fill="none" id="local_http-http" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="122" y="280.91"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="122" y="203.13"/><!--MD5=[1bcf2633f5d9e1de3c15d1c1b779208d]
link local_grpc to grpc--><path d="M279,205.28 C279,229.2 279,264.61 279,288.57 " fill="none" id="local_grpc-grpc" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="274" y="288.8"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="274" y="195"/><!--MD5=[822e738d165c73dc3b9e1744093104bc]
link http to api--><path d="M127,345.29 C127,361.45 127,381.81 127,399.34 " fill="none" id="http-&gt;api" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="122" y="399.68"/><!--MD5=[4e1649e5274ec4694701c25a8aad5654]
link grpc to server--><path d="M283.07,337.11 C286.46,354.28 291.39,379.21 295.49,399.98 " fill="none" id="grpc-&gt;server" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="291.46" y="399.89"/><!--MD5=[9177bed0ba4a9e5c6c85c85db71229e2]
link grpc to api--><path d="M253.22,337.11 C230.01,355.66 195.49,383.25 168.42,404.89 " fill="none" id="grpc-api" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M202.3291,368.7326 A10,10 0 0 0 211.1588 379.7796" fill="#FFFFFF" style="stroke: #A80036; stroke-width: 1.5;"/><ellipse cx="212.2675" cy="369.8412" fill="#FFFFFF" rx="6" ry="6" style="stroke: #A80036; stroke-width: 1.5;"/><!--MD5=[1864ed55e5071944465201b0041b73b7]
@startuml


hide empty members

component curl <<client>> {
}

component grpcurl <<client>> {
}

cloud docker as "[[https://github.com/arootcom/grpc-fastapi/blob/day1/docker-compose-singl.yaml docker-compose-single]]" <<docker>> {
    interface local_http as "http\nrest api\nport: 8080"
    curl -(0- local_http

    interface local_grpc as "grpc\nport: 8787" 
    grpcurl -(0- local_grpc

    node main as "[[https://github.com/arootcom/grpc-fastapi/blob/day1/app/main.py main]]" <<container>> {
        interface http as "http\nrest api\nport: 1111"
        local_http #- -# http

        interface grpc as "grpc\nport: 50091"
        local_grpc #- -# grpc 

        component api as "Fast API" <<first process>> {
        }
        http - -# api

        component server as "gRPC Servers" <<asyncio process>> {
        }
        grpc - -# server
        grpc -0)- api
    }
}

@enduml

PlantUML version 1.2020.02(Sun Mar 01 13:22:07 MSK 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 21.0.9+10-Ubuntu-124.04
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>