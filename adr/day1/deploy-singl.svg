<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="606px" preserveAspectRatio="none" style="width:898px;height:606px;" version="1.1" viewBox="0 0 898 606" width="898px" zoomAndPan="magnify"><defs><filter height="300%" id="f169q768n3nxo" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[5ec7eedd57310648f8059ffb2621ca4b]
cluster docker--><path d="M44.245,102.2945 C60.9397,75.4887 76.5949,73.5597 95.75,99.9105 C113.6755,76.0047 135.0611,77.8276 151.7685,101.3494 C173.0832,71.5112 195.9129,75.0068 212.3215,106.2158 C226.5705,77.8072 254.4602,76.0876 269.0779,105.8561 C281.5988,71.6474 306.5526,70.1577 327.3692,98.072 C340.726,69.024 366.7655,72.2144 380.2984,97.9018 C401.2984,70.3948 424.4278,70.1065 443.462,100.0625 C458.0194,72.4066 486.2605,71.6584 500.2302,100.6514 C521.3615,72.4625 539.2944,81.1921 555.6737,105.6553 C574.8964,79.6917 594.7772,80.1976 613.9938,105.6622 C628.1088,81.5545 653.3686,81.666 665.7662,107.4445 C686.804,75.9604 707.3111,81.2083 728.4009,107.3882 C744.1612,82.1731 760.4217,75.783 781.9772,101.2637 C803.7066,73.1805 825.8095,77.1254 842,107 C849.3364,106.644 851.8944,109.6448 849.4893,116.7622 C875.2442,136.5167 870.8976,152.7316 845.9137,169.0141 C868.2169,183.8385 874.4234,206.0589 847.373,222.2365 C873.6798,237.9571 870.9455,260.0891 846.1405,274.6068 C869.3931,290.0744 870.0697,308.6674 849.215,326.7363 C881.4619,340.7475 886.6051,366.4446 856.3781,387.7861 C877.692,408.7127 873.3478,423.6626 849.5326,438.4971 C874.2253,454.6532 870.7493,477.6936 846.8199,491.3544 C873.7474,511.9693 863.5546,539.7614 835,549 C837.0536,546.0711 839.1537,546.4988 841.1018,549.1161 C829.7567,577.3547 802.7757,585.534 784.045,556.47 C769.1439,582.6393 751.084,589.2622 730.2204,562.5372 C711.4819,589.7852 690.5066,592.107 670.0986,564.3624 C652.506,590.2021 627.4212,582.2178 616.2479,557.522 C598.2681,591.725 569.8522,586.4722 550.0787,559.4608 C533.9999,585.4736 512.8524,586.7536 493.1996,563.595 C475.6971,592.157 457.3496,591.4841 438.0183,565.4432 C423.9458,588.6356 402.6102,590.5667 388.297,565.6923 C366.5528,594.2096 347.5844,593.1203 326.5709,564.8974 C309.8702,594.1024 283.8651,593.6477 266.3606,565.7448 C246.8392,592.9212 220.0654,588.1749 209.721,556.8586 C192.8431,581.4765 175.521,578.0761 158.2335,557.3234 C143.3232,585.8854 115.8347,588.6116 99.3259,558.9405 C70.3172,591.0861 42.3411,578.0633 30,542 C36.6262,542.6908 37.7435,546.0011 35.3296,551.6729 C8.0257,537.0179 4.0128,512.4256 33.421,495.8322 C5.7159,474.9034 3.3182,455.1329 33.6471,434.4176 C5.0787,420.4419 4.0558,404.6065 28.2483,384.8807 C1.783,366.9242 4.0218,340.578 31.6528,325.7354 C3.3729,308.1476 6.1076,288.6361 31.9816,271.3758 C10.0503,257.0871 6.6202,240.2411 29.1563,223.3371 C7.2647,209.9024 0.9931,185.0899 29.1682,171.6668 C-0.6961,146.9261 -1.5644,117.2627 37,100 C40.5812,97.3553 42.8594,98.0066 44.245,102.2945 " fill="#FFFFFF" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="56" x="408" y="119.9659">«docker»</text><a href="https://github.com/arootcom/grpc-fastapi/blob/day1/docker-compose-singl.yaml" target="_top" title="https://github.com/arootcom/grpc-fastapi/blob/day1/docker-compose-singl.yaml" xlink:actuate="onRequest" xlink:href="https://github.com/arootcom/grpc-fastapi/blob/day1/docker-compose-singl.yaml" xlink:show="new" xlink:title="https://github.com/arootcom/grpc-fastapi/blob/day1/docker-compose-singl.yaml" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="162" x="355" y="139.0339">docker-compose-single</text></a><!--MD5=[a70b0d373322012744ecc119c63f921b]
cluster main--><polygon fill="#FFFFFF" filter="url(#f169q768n3nxo)" points="46,250,56,240,826,240,826,523,816,533,46,533,46,250" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="816" x2="825" y1="250" y2="241"/><line style="stroke: #000000; stroke-width: 1.5;" x1="46" x2="816" y1="250" y2="250"/><line style="stroke: #000000; stroke-width: 1.5;" x1="816" x2="816" y1="250" y2="533"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="74" x="395" y="267.9659">«container»</text><a href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/main.py" target="_top" title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/main.py" xlink:actuate="onRequest" xlink:href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/main.py" xlink:show="new" xlink:title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/main.py" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="35" x="414.5" y="287.0339">main</text></a><!--MD5=[4ef80439e1ef409f8f3a0ec422262701]
cluster server--><rect fill="#FFFFFF" filter="url(#f169q768n3nxo)" height="116" style="stroke: #000000; stroke-width: 1.5;" width="591" x="211" y="393"/><rect fill="#FFFFFF" height="10" style="stroke: #000000; stroke-width: 1.5;" width="15" x="782" y="398"/><rect fill="#FFFFFF" height="2" style="stroke: #000000; stroke-width: 1.5;" width="4" x="780" y="400"/><rect fill="#FFFFFF" height="2" style="stroke: #000000; stroke-width: 1.5;" width="4" x="780" y="404"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="112" x="450.5" y="420.9659">«asyncio process»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="91" x="461" y="440.0339">gRPC Servers</text><!--MD5=[1c4445a7000564b839da5ed8916fbcae]
entity curl--><rect fill="#FFFFFF" filter="url(#f169q768n3nxo)" height="68.1358" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="83" y="8"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="151" y="13"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="149" y="15"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="149" y="19"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="48" x="98" y="42.9659">«client»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="109" y="62.0339">curl</text><!--MD5=[39bc9657bf317d043dcbf2a23a9b65e5]
entity grpcurl--><rect fill="#FFFFFF" filter="url(#f169q768n3nxo)" height="68.1358" style="stroke: #A80036; stroke-width: 1.5;" width="90" x="363" y="8"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="433" y="13"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="431" y="15"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="431" y="19"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="48" x="379" y="42.9659">«client»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="378" y="62.0339">grpcurl</text><!--MD5=[97927cec2a6e77b4f0a12e56a26161da]
class local_http--><rect fill="#FEFECE" filter="url(#f169q768n3nxo)" height="75.3765" id="local_http" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="82.5" y="149"/><ellipse cx="97.5" cy="186.6882" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M93.5313,193.1882 L93.5313,191.4851 L95.8906,191.2195 L95.8906,183.0164 L93.5313,182.7507 L93.5313,181.0476 L100.6719,181.0476 L100.6719,182.7507 L98.25,183.0164 L98.25,191.2195 L100.6719,191.4851 L100.6719,193.1882 L93.5313,193.1882 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="59" x="110.5" y="166.8281">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="22" x="129" y="183.1722">http</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="40" x="120" y="199.5163">rest api</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="57" x="111.5" y="215.8604">port: 8080</text><!--MD5=[c7869361ce8773805ca72f87c53bac8d]
class local_grpc--><rect fill="#FEFECE" filter="url(#f169q768n3nxo)" height="59.0323" id="local_grpc" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="363.5" y="157"/><ellipse cx="378.5" cy="186.5162" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M374.5313,193.0162 L374.5313,191.313 L376.8906,191.0474 L376.8906,182.8443 L374.5313,182.5787 L374.5313,180.8755 L381.6719,180.8755 L381.6719,182.5787 L379.25,182.8443 L379.25,191.0474 L381.6719,191.313 L381.6719,193.0162 L374.5313,193.0162 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="59" x="391.5" y="174.8281">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="24" x="409" y="191.1722">grpc</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="57" x="392.5" y="207.5163">port: 8787</text><!--MD5=[ee7e05c31ad3ab8de83a6576ca716af9]
class http--><rect fill="#FEFECE" filter="url(#f169q768n3nxo)" height="75.3765" id="http" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="82.5" y="302"/><ellipse cx="97.5" cy="339.6882" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M93.5313,346.1882 L93.5313,344.4851 L95.8906,344.2195 L95.8906,336.0164 L93.5313,335.7507 L93.5313,334.0476 L100.6719,334.0476 L100.6719,335.7507 L98.25,336.0164 L98.25,344.2195 L100.6719,344.4851 L100.6719,346.1882 L93.5313,346.1882 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="59" x="110.5" y="319.8281">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="22" x="129" y="336.1722">http</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="40" x="120" y="352.5163">rest api</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="57" x="111.5" y="368.8604">port: 1111</text><!--MD5=[9980b5244f573a19d8ed59dab985f6c6]
class grpc--><rect fill="#FEFECE" filter="url(#f169q768n3nxo)" height="59.0323" id="grpc" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="360" y="310"/><ellipse cx="375" cy="339.5162" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M371.0313,346.0162 L371.0313,344.313 L373.3906,344.0474 L373.3906,335.8443 L371.0313,335.5787 L371.0313,333.8755 L378.1719,333.8755 L378.1719,335.5787 L375.75,335.8443 L375.75,344.0474 L378.1719,344.313 L378.1719,346.0162 L371.0313,346.0162 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="59" x="391.5" y="327.8281">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="24" x="409" y="344.1722">grpc</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="64" x="389" y="360.5163">port: 50091</text><!--MD5=[e2307af040e3f87d22824e7603ca28ec]
entity api--><rect fill="#FFFFFF" filter="url(#f169q768n3nxo)" height="68.1358" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="62" y="437.5"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="172" y="442.5"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="170" y="444.5"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="170" y="448.5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="90" x="77" y="472.4659">«first process»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="95.5" y="491.5339">Fast API</text><!--MD5=[20acf304c87f522547e857e16520f091]
class orders--><rect fill="#FEFECE" filter="url(#f169q768n3nxo)" height="42.6882" id="orders" style="stroke: #A80036; stroke-width: 1.5;" width="157" x="628.5" y="450"/><ellipse cx="643.5" cy="471.3441" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M642.9688,478.266 Q641.2188,478.266 640.0781,477.5316 Q638.9531,476.7816 638.3906,475.4379 Q637.8438,474.0785 637.8438,472.2816 Q637.8438,470.2504 638.5,468.7972 Q639.1563,467.3441 640.4375,466.5629 Q641.7188,465.7816 643.5938,465.7816 Q644.4844,465.7816 645.1563,465.9691 Q645.8281,466.141 646.5156,466.4847 L645.7031,468.5004 Q645.0781,468.1879 644.5313,468.0629 Q644,467.9379 643.5156,467.9379 Q642.3438,467.9379 641.6406,468.4691 Q640.9375,469.0004 640.6406,469.9535 Q640.3438,470.9066 640.3438,472.1722 Q640.3438,474.1879 641.0625,475.1566 Q641.7813,476.1097 643.375,476.1097 Q643.9688,476.1097 644.5938,475.9535 Q645.2188,475.7972 646.0469,475.4222 L646.0469,477.641 Q645.3125,477.9535 644.5156,478.1097 Q643.7344,478.266 642.9688,478.266 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="48" x="696" y="467.8281">«service»</text><a href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/order.py" target="_top" title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/order.py" xlink:actuate="onRequest" xlink:href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/order.py" xlink:show="new" xlink:title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/order.py" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="125" x="657.5" y="484.1722">servers.services.order</text></a><!--MD5=[cced2c5adff641815bfd663bfb5c99f1]
class reserve--><rect fill="#FEFECE" filter="url(#f169q768n3nxo)" height="42.6882" id="reserve" style="stroke: #A80036; stroke-width: 1.5;" width="169" x="424.5" y="450"/><ellipse cx="439.5" cy="471.3441" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M438.9688,478.266 Q437.2188,478.266 436.0781,477.5316 Q434.9531,476.7816 434.3906,475.4379 Q433.8438,474.0785 433.8438,472.2816 Q433.8438,470.2504 434.5,468.7972 Q435.1563,467.3441 436.4375,466.5629 Q437.7188,465.7816 439.5938,465.7816 Q440.4844,465.7816 441.1563,465.9691 Q441.8281,466.141 442.5156,466.4847 L441.7031,468.5004 Q441.0781,468.1879 440.5313,468.0629 Q440,467.9379 439.5156,467.9379 Q438.3438,467.9379 437.6406,468.4691 Q436.9375,469.0004 436.6406,469.9535 Q436.3438,470.9066 436.3438,472.1722 Q436.3438,474.1879 437.0625,475.1566 Q437.7813,476.1097 439.375,476.1097 Q439.9688,476.1097 440.5938,475.9535 Q441.2188,475.7972 442.0469,475.4222 L442.0469,477.641 Q441.3125,477.9535 440.5156,478.1097 Q439.7344,478.266 438.9688,478.266 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="48" x="498" y="467.8281">«service»</text><a href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/reserve.py" target="_top" title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/reserve.py" xlink:actuate="onRequest" xlink:href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/reserve.py" xlink:show="new" xlink:title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/reserve.py" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="137" x="453.5" y="484.1722">servers.services.reserve</text></a><!--MD5=[1f727aeb7eada4cb742e721f089c17f3]
class loyalty--><rect fill="#FEFECE" filter="url(#f169q768n3nxo)" height="42.6882" id="loyalty" style="stroke: #A80036; stroke-width: 1.5;" width="162" x="227" y="450"/><ellipse cx="242" cy="471.3441" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M241.4688,478.266 Q239.7188,478.266 238.5781,477.5316 Q237.4531,476.7816 236.8906,475.4379 Q236.3438,474.0785 236.3438,472.2816 Q236.3438,470.2504 237,468.7972 Q237.6563,467.3441 238.9375,466.5629 Q240.2188,465.7816 242.0938,465.7816 Q242.9844,465.7816 243.6563,465.9691 Q244.3281,466.141 245.0156,466.4847 L244.2031,468.5004 Q243.5781,468.1879 243.0313,468.0629 Q242.5,467.9379 242.0156,467.9379 Q240.8438,467.9379 240.1406,468.4691 Q239.4375,469.0004 239.1406,469.9535 Q238.8438,470.9066 238.8438,472.1722 Q238.8438,474.1879 239.5625,475.1566 Q240.2813,476.1097 241.875,476.1097 Q242.4688,476.1097 243.0938,475.9535 Q243.7188,475.7972 244.5469,475.4222 L244.5469,477.641 Q243.8125,477.9535 243.0156,478.1097 Q242.2344,478.266 241.4688,478.266 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="48" x="297" y="467.8281">«service»</text><a href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/loyalty.py" target="_top" title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/loyalty.py" xlink:actuate="onRequest" xlink:href="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/loyalty.py" xlink:show="new" xlink:title="https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/loyalty.py" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="130" x="256" y="484.1722">servers.services.loyalty</text></a><!--MD5=[f569da246d9d1549aee26afb72a4f8a9]
link curl to local_http--><path d="M127,76.05 C127,97.84 127,126.39 127,148.87 " fill="none" id="curl-local_http" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M134.0711,105.1302 A10,10 0 0 0 119.9289 105.1302" fill="#FFFFFF" style="stroke: #A80036; stroke-width: 1.5;"/><ellipse cx="127" cy="112.2012" fill="#FFFFFF" rx="6" ry="6" style="stroke: #A80036; stroke-width: 1.5;"/><!--MD5=[c5a26bd2e0e29d2950c8fdb045644034]
link grpcurl to local_grpc--><path d="M408,76.05 C408,100.55 408,133.61 408,156.96 " fill="none" id="grpcurl-local_grpc" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M415.0711,109.8652 A10,10 0 0 0 400.9289 109.8652" fill="#FFFFFF" style="stroke: #A80036; stroke-width: 1.5;"/><ellipse cx="408" cy="116.9363" fill="#FFFFFF" rx="6" ry="6" style="stroke: #A80036; stroke-width: 1.5;"/><!--MD5=[5a98a51f9f95d58ec3e7dc9a9fa6a508]
link local_http to http--><path d="M127,229.12 C127,250.1 127,275.48 127,296.51 " fill="none" id="local_http-http" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="122" y="296.76"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="122" y="219.05"/><!--MD5=[1bcf2633f5d9e1de3c15d1c1b779208d]
link local_grpc to grpc--><path d="M408,221.44 C408,246.29 408,279.87 408,304.69 " fill="none" id="local_grpc-grpc" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="403" y="304.85"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="403" y="211.26"/><!--MD5=[822e738d165c73dc3b9e1744093104bc]
link http to api--><path d="M127,377.06 C127,394.21 127,414.65 127,432.03 " fill="none" id="http-&gt;api" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="122" y="432.32"/><!--MD5=[67e86969b0140614e5c8927828cd1439]
link grpc to orders--><path d="M456.26,344.13 C498.92,348.92 561.83,359.92 611,385 C640.64,400.12 668.31,426.62 686.25,446.12 " fill="none" id="grpc-&gt;orders" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="684.71" y="444.92"/><!--MD5=[4c101d95f4d4b007e4fe0e9597922f6d]
link grpc to reserve--><path d="M430.16,369.03 C447.99,391.97 472.77,423.86 489.76,445.74 " fill="none" id="grpc-&gt;reserve" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="487.84" y="444.7"/><!--MD5=[a1707c4b64cbc5a5e095cab6af816523]
link grpc to loyalty--><path d="M386.05,369.03 C368.41,391.97 343.87,423.86 327.05,445.74 " fill="none" id="grpc-&gt;loyalty" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="319" y="444.7"/><!--MD5=[9177bed0ba4a9e5c6c85c85db71229e2]
link grpc to api--><path d="M359.93,343.73 C318.28,348.24 257.56,359.07 211,385 C187.73,397.96 166.73,419.34 151.55,437.47 " fill="none" id="grpc-api" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M201.3819,382.2628 A10,10 0 0 0 208.2628 394.6181" fill="#FFFFFF" style="stroke: #A80036; stroke-width: 1.5;"/><ellipse cx="211" cy="385" fill="#FFFFFF" rx="6" ry="6" style="stroke: #A80036; stroke-width: 1.5;"/><!--MD5=[44e1939a5ccdd2a244dcffddcfbf4f9f]
@startuml


hide empty members
allowmixing

component curl <<client>> {
}

component grpcurl <<client>> {
}

cloud docker as "[[https://github.com/arootcom/grpc-fastapi/blob/day1/docker-compose-singl.yaml docker-compose-single]]" <<docker>> {
    interface local_http as "http\nrest api\nport: 8080" <<interface>>
    curl -(0- local_http

    interface local_grpc as "grpc\nport: 8787" <<interface>>
    grpcurl -(0- local_grpc

    node main as "[[https://github.com/arootcom/grpc-fastapi/blob/day1/app/main.py main]]" <<container>> {
        interface http as "http\nrest api\nport: 1111" <<interface>>
        local_http #- -# http

        interface grpc as "grpc\nport: 50091" <<interface>>
        local_grpc #- -# grpc 

        component api as "Fast API" <<first process>> {
        }
        http - -# api

        component server as "gRPC Servers" <<asyncio process>> {
            class orders as "[[https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/order.py servers.services.order]]" <<service>>
            class reserve as "[[https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/reserve.py servers.services.reserve]]" <<service>>
            class loyalty as "[[https://github.com/arootcom/grpc-fastapi/blob/day1/app/servers/services/loyalty.py servers.services.loyalty]]" <<service>>
        }
        grpc - -# orders
        grpc - -# reserve
        grpc - -# loyalty
        grpc -0)- api
    }
}

@enduml

PlantUML version 1.2020.02(Sun Mar 01 13:22:07 MSK 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 21.0.9+10-Ubuntu-124.04
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>